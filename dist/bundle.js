!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o={blogRef:firebase.firestore().collection("blog-post-details"),storageRef:firebase.storage().ref()};var r={render:()=>{let e="";o.blogRef.orderBy("id").get().then(function(t){t.forEach(t=>{e=`<a href="/#/${t.data().id}"><div class="dataTemplate"><div class="post-template-image"><img src="${t.data().imageUrl}"></div><div class="post-details"><h3>${t.data().title}</h3><p>${t.data().shortDescription}</p></div></div></a>`+e}),document.querySelector(".container").innerHTML=e}).catch(function(){document.querySelector(".container").innerHTML="Error happened while getting data from firebase!"})}};var a={render:()=>{let e=location.hash,t="";o.blogRef.doc(e.split("/")[1]).get().then(function(e){e.data()?(t+=`<img class="blog-header-image" src="${e.data().imageUrl}">\n                <h1>${e.data().title}</h1>\n                <div class="post">${e.data().detail}</div>`,document.querySelector(".container").innerHTML=t):document.querySelector(".container").innerHTML="OOPS!! 404"}).catch(function(e){console.log(e)})}};var i={render:()=>{document.querySelector(".container").innerHTML='<div class="inputArea">\n        <input class="inputForm" type="text" id="titleInput" placeholder="Enter blog title here">\n        <textarea class="inputForm" name="" id="descriptionInput" cols="30" rows="10"\n          placeholder="Enter a short description here"></textarea>\n        <textarea class="inputForm bigDescription" name="" id="bigDescription" cols="50" rows="30"\n          placeholder="Enter blog here"></textarea>\n          <input type="file" id="upload">\n        <button class="inputForm" id="saveBlog">Post Blog</button>\n      </div>',CKEDITOR.replace("bigDescription")}};const l=()=>{let e=location.hash;e&&"#/home"!==e?"#/admin"===e?(i.render(),document.getElementById("saveBlog").addEventListener("click",s)):a.render():r.render()},s=()=>{let e,t,n=document.getElementById("titleInput").value,r=document.getElementById("descriptionInput").value,a=CKEDITOR.instances.bigDescription.getData(),i=document.getElementById("upload").files[0];n&&r&&a&&i?(document.querySelector(".overlay").style.display="block",o.blogRef.get().then(function(e){let n=e.size;t=++n}).then(function(){let l=o.storageRef.child("/post-images/"+t).put(i);l.on("state_changed",function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case firebase.storage.TaskState.PAUSED:console.log("Upload is paused");break;case firebase.storage.TaskState.RUNNING:console.log("Upload is running")}},function(e){},function(){l.snapshot.ref.getDownloadURL().then(function(i){e=i,o.blogRef.doc(t.toString()).set({detail:a,id:t,shortDescription:r,title:n,imageUrl:e}).then(function(){document.querySelector(".overlay img").classList.remove("animate"),document.querySelector(".overlay img").setAttribute("src","images/success.png"),setTimeout(c,1e3)})})})})):alert("Error: Can't leave fields blank")},c=()=>{document.getElementById("titleInput").value="",document.getElementById("descriptionInput").value="",CKEDITOR.instances.bigDescription.setData(""),document.getElementById("upload").value="",document.querySelector(".overlay").style.display="none",document.querySelector(".overlay img").classList.add("animate"),document.querySelector(".overlay img").setAttribute("src","images/loader.png")};window.addEventListener("hashchange",l),window.addEventListener("load",l)}]);